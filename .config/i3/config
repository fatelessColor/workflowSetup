# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4
set $mod2 Alt_L

# TODO
bindsym Ctrl+y exec xdotool type "<"
bindsym $mod+Shift+y exec xdotool type ">"
#############################################################################
#Buttons, Keybindings
############################################################################
#main

# start a terminal
bindsym $mod+Return exec urxvt
bindsym $mod+Shift+Return exec urxvt -bg 0
# kill focused window
bindsym $mod+Shift+q kill
# reload the configuration file
#bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"
#bindsym $mod+Shift+e exit

# start dmenu (a program launcher)
# bindsym $mod+d exec dmenu_run
# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
bindsym $mod+d exec --no-startup-id rofi -show run
#bindsym $mod+d exec rofi -show run -lines 3 -eh 2 -width 100 -padding 800 -opacity "50" -bw 0 -bc "#000000" -bg "#000000" -fg "#000000" -hlbg "#000000" -hlfg "#000000" -font "System San Francisco Display 18"

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

bindsym $mod+Ctrl+Left move workspace to output left
bindsym $mod+Ctrl+Right move workspace to output right
# split in horizontal orientation
bindsym $mod+c split h
# split in vertical orientation
bindsym $mod+v split v
# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle
# change container layout (stacked, tabbed, toggle split)
bindsym $mod+w layout toggle tabbed split
#bindsym $mod+s layout stacking
#bindsym $mod+w layout tabbed
#bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle
# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+q focus parent
# focus the child container
bindsym $mod+e focus child

# switch to workspace
bindsym $mod+1 workspace 一
bindsym $mod+2 workspace 二
bindsym $mod+3 workspace 三
bindsym $mod+4 workspace 四
bindsym $mod+5 workspace 五
bindsym $mod+6 workspace 六 
bindsym $mod+7 workspace 七
bindsym $mod+8 workspace 八
bindsym $mod+9 workspace 九
bindsym $mod+0 workspace 十

#bindsym $mod+Ctrl+1 workspace 11
#bindsym $mod+Ctrl+2 workspace 12
#bindsym $mod+Ctrl+3 workspace 13
#bindsym $mod+Ctrl+4 workspace 14
#bindsym $mod+Ctrl+5 workspace 15
#bindsym $mod+Ctrl+6 workspace 16
#bindsym $mod+Ctrl+7 workspace 17
#bindsym $mod+Ctrl+8 workspace 18
#bindsym $mod+Ctrl+9 workspace 19
#bindsym $mod+Ctrl+0 workspace 20

bindsym $mod+Tab workspace back_and_forth

# move focused container to workspace

bindsym $mod+Shift+1 move container to  workspace 一
bindsym $mod+Shift+2 move container to  workspace 二
bindsym $mod+Shift+3 move container to  workspace 三
bindsym $mod+Shift+4 move container to  workspace 四
bindsym $mod+Shift+5 move container to  workspace 五
bindsym $mod+Shift+6 move container to  workspace 六 
bindsym $mod+Shift+7 move container to  workspace 七
bindsym $mod+Shift+8 move container to  workspace 八
bindsym $mod+Shift+9 move container to  workspace 九
bindsym $mod+Shift+0 move container to  workspace 十
#bindsym $mod+Ctrl+Shift+1 move container to workspace 11
#bindsym $mod+Ctrl+Shift+2 move container to workspace 12
#bindsym $mod+Ctrl+Shift+3 move container to workspace 13
#bindsym $mod+Ctrl+Shift+4 move container to workspace 14
#bindsym $mod+Ctrl+Shift+5 move container to workspace 15
#bindsym $mod+Ctrl+Shift+6 move container to workspace 16
#bindsym $mod+Ctrl+Shift+7 move container to workspace 17
#bindsym $mod+Ctrl+Shift+8 move container to workspace 18
#bindsym $mod+Ctrl+Shift+9 move container to workspace 19
#bindsym $mod+Ctrl+Shift+0 move container to workspace 20

#floating windows workspace managment
bindsym $mod+Ctrl+m workspace X
bindsym $mod+m [floating] move window to workspace X
bindsym $mod+n [floating] move window to workspace current

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod
for_window [title="c_vim"] floating enable
# The right button toggles floating TODO
#bindsym $mod + button3 floating toggle
#sticky toggle
bindsym $mod+Ctrl+space sticky toggle
# resize window (you can also use the mouse for that)
bindsym $mod+r mode "resize"
mode "resize" {
# These bindings trigger as soon as you enter the resize mode
# Pressing left will shrink the window’s width.
# Pressing right will grow the window’s width.
# Pressing up will shrink the window’s height.
# Pressing down will grow the window’s height.
    bindsym h resize shrink width 1 px or 1 ppt
        bindsym k resize grow height 1 px or 1 ppt
        bindsym j resize shrink height 1 px or 1 ppt
        bindsym l resize grow width 1 px or 1 ppt
# same bindings, but for the arrow 2eys

        bindsym Left resize shrink width 1 px or 1 ppt
        bindsym Down resize grow height 1 px or 1 ppt
        bindsym Up resize shrink height 1 px or 1 ppt
        bindsym Right resize grow width 1 px or 1 ppt
# back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+u resize shrink width 2 px or 2 ppt
bindsym $mod+o resize grow height 2 px or 2 ppt
bindsym $mod+i resize shrink height 2 px or 2 ppt
bindsym $mod+p resize grow width 2 px or 2 ppt



# Make the currently focused window a scratchpad
bindsym $mod+Shift+minus move scratchpad
# Show the firsit scratchpad window
bindsym $mod+minus scratchpad show

#secoundary
#taskmanager
bindsym Ctrl+Shift+Escape exec urxvt -e htop 

#music, player, moc, mocp
bindsym XF86AudioPause exec mocp -P
bindsym XF86AudioPlay exec mocp -U
bindsym XF86AudioNext exec mocp -f

#screenshot
bindsym $mod+Print exec fswebcam --no-banner -r 1280x720 -q ~/Pictures/webcam/webcam_$(date +%F_%H:%M:%S).png
bindsym --release Shift+Print exec --no-startup-id import -silent ~/Pictures/screenshots/screenshot_$(date +%F_%H:%M:%S).png
bindsym --release Print exec scrot -z ~/Pictures/screenshots/screenshot_$(date +%F_%H:%M:%S).png

#i3lock
#bindsym $mod+Ctrl+l exec xdotool mousemove 5 5 && sleep 0.2 && xdotool mousemove 1999 1999 && scrot -z /tmp/screen.png && convert /tmp/screen.png -scale 5% -scale 2000% /tmp/screen.png && i3lock -n -i /tmp/screen.png
#bindsym $mod+Ctrl+l exec xdotool mousemove 5 5 && sleep 0.2 && xdotool mousemove 1999 1999 && i3lock -n -i ~/pictures/wall/windows98.png
#bindsym $mod+Ctrl+l exec xdotool mousemove 5 5 && sleep 0.2 && xdotool mousemove 1999 1999 && scrot -z ~/pictures/screen.png && convert ~/pictures/screen.png -scale 5% -scale 2000% ~/pictures/screen.png && sleep 0.4 && i3lock -n -i ~/pictures/screen.png -E 'fswebcam --no-banner -r 1280x720 -q ~/pictures/secwebbcam/webcam_$(date +%F_%H:%M:%S).png'
#bindsym $mod+Ctrl+l exec xdotool mousemove 5 5 && sleep 0.2 && xdotool mousemove 1999 1999 && i3lock -n -i ~/pictures/toolbar.png -E 'fswebcam --no-banner -r 1280x720 -q ~/pictures/secwebbcam/webcam_$(date +%F_%H:%M:%S).png'
#bindsym $mod+Ctrl+l exec xdotool mousemove 5 5 && sleep 0.2 && xdotool mousemove 1999 1999 && i3lock -n -i ~/pictures/wall/cobweblock.png
bindsym $mod+Ctrl+l exec ~/.config/i3lock/i3lock.sh




###############################################################################################
#fn keys, funktion keys
##############################################################################################


# Media player controls
#bindsym XF86AudioPlay exec playerctl play
#bindsym XF86AudioPause exec playerctl pause
#bindsym XF86AudioNext exec playerctl next
#bindsym XF86AudioPrev exec playerctl previous

#F1
bindsym XF86AudioMute exec --no-startup-id amixer -q sset Master toggle # mute sound
bindsym $mod+F1 exec --no-startup-id amixer -q sset Master toggle # mute sound
##F2
bindsym XF86AudioLowerVolume exec --no-startup-id amixer -q sset Master on, exec amixer -q sset Master 2%- #decrease sound volume
bindsym $mod+F2 exec --no-startup-id amixer -q sset Master on, exec amixer -q sset Master 2%- #decrease sound volume
#bindsym Ctrl + XF86AudioLowerVolume exec amixer -q -D pulse sset Capture 2%- unmute
##F3
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer -q sset Master on, exec amixer -q sset Master 2%+  #decrease sound volume
bindsym $mod+F3 exec --no-startup-id amixer -q sset Master on, exec amixer -q sset Master 2%+  #decrease sound volume
#bindsym XF86AudioRaiseVolume exec amixer -q -D pulse sset Master 2%+ unmute
#bindsym Ctrl + XF86AudioRaiseVolume exec amixer -q -D pulse sset Capture 2%+ unmute
##F4 TODO
#bindsym XF86AudioMicMute exec amixer -q -D pulse set Capture toggle
#brightness
#F5
bindsym XF86MonBrightnessDown exec light -U 2
bindsym $mod+F5 exec light -U 2
#bindsym XF86MonBrightnessUp exec xbacklight -inc 20 # increase screen brightness
#bindsym $mod+XF86MonBrightnessDown exec sleep 1 && exec xset dpms force off
#F6
bindsym XF86MonBrightnessUp exec light -A 2
bindsym $mod+F6 exec light -A 2
#bindsym XF86MonBrightnessDown exec xbacklight -dec 20 # decrease screen brightness
#F7
bindsym XF86Display mode "$mode_display"
bindsym $mod+F7 mode "$mode_display"
#F8
#already preset
#F9
bindsym XF86Tools mode "$mode_fnset"
bindsym $mod+F9 mode "$mode_fnset"
#bindsym XF86Tools exec gnome-control-center
#F10
#bindsym XF86Search
#F11
bindsym XF86LaunchA exec ~/.config/screenlayout/wallpaper.sh 0
bindsym $mod+F11 exec ~/.config/screenlayout/wallpaper.sh 0
bindsym Ctrl+XF86LaunchA mode "$mode_wallpaper"
bindsym Ctrl+$mod+F11 mode "$mode_wallpaper"
#F12
#bindsym XF86Explorer

######################################################################
#autostart startup
######################################################################
#wifi
exec_always nm-applet
#polybar
exec_always pkill polybar
exec_always sleep 1 && polybar main
exec_always sleep 1 && polybar hdmi
#wallpaper
exec_always exec ~/.config/screenlayout/wallpaper.sh 0
#compton
#exec_always compton -cCGfF -o 0.20 -I 0.028 -O 0.03 -e 0.5 -t 0 -l 0 -r3 -D4 -m 0.88 --vsync opengl --dbe
exec_always compton --vsync opengl-oml 
#keyboard layout
#exec sleep 2 && setxkbmap de
#escape and tab switched
exec setxkbmap -option caps:swapescape
#mouse on the bottom right
exec_always xdotool mousemove 1999 1999
#trackpad speed
exec_always xinput set-prop 'AlpsPS/2 ALPS DualPoint Stick' 'Coordinate Transformation Matrix' 4.000000, 0.000000, 0.000000, 0.000000, 4.000000, 0.000000, 0.000000, 0.000000, 0.500000
#turn off beep
exec_always xset b off

#touchpad speed
exec_always xinput set-prop 'AlpsPS/2 ALPS DualPoint TouchPad' 'Coordinate Transformation Matrix' 2.000000, 0.000000, 0.000000, 0.000000, 2.000000, 0.000000, 0.000000, 0.000000, 0.500000
exec_always xinput set-prop 'AlpsPS/2 ALPS DualPoint TouchPad' 'libinput Tapping Enabled' 1 

#unclutter
exec unclutter -idle 9 -grab &
#disable touchpad
exec sleep 4 & xinput --set-prop 'AlpsPS/2 ALPS DualPoint TouchPad' 'Device Enabled' 0
#touchpad enabled with tapping
bindsym $mod+Shift+t exec ~/.config/customscripts/touchpadtoggle && sleep 2 && xinput set-prop 'AlpsPS/2 ALPS DualPoint TouchPad' 'libinput Tapping Enabled' 1
#no screensaver
exec_always xset s off         # don't activate screensaver
exec_always xset -dpms         # disable DPMS (Energy Star) features.
exec_always xset s noblank     # don't blank the video device

############################################################
#modes
############################################################
#settings
set $mode_fnset settings: (s)hutdown, (r)eboot, (e)xit, (b)luetooth, (k)eyboard, (a)udio
mode "$mode_fnset"{
#s shutdown
#bindsym s exec /usr/bin/aplay ~/.config/sounds/turret/turret_disabled_4.wav, exec sleep 2 && systemctl poweroff
bindsym s exec systemctl poweroff
#r restart
#bindsym r exec /usr/bin/aplay ~/.config/sounds/turret/turret_tipped_2.wav, exec sleep 2 && systemctl reboot
bindsym r exec systemctl reboot
bindsym e exit
#b bluetooth
bindsym b mode "$mode_bluetooth"
#k keyboard
bindsym k mode "$mode_keyboard"
#a audio
bindsym a exec pavucontrol, mode "default"
# back to normal: Enter or Escape
bindsym Return mode "default"
bindsym Escape mode "default"
}

#keyboard
set $mode_keyboard Keyboard (eu) europe, (de) germany, (pl) poland  ||  (1) ESC:CAPS, (2) CAPS:ESC
mode "$mode_keyboard" {
#keylayout
    bindsym e exec setxkbmap eu, mode "default"
        bindsym d exec setxkbmap de, mode "default"
        bindsym p exec setxkbmap pl, mode "default"
#swapescape
        bindsym 1 exec setxkbmap -option, mode "default"
        bindsym 2 exec setxkbmap -option caps:swapescape, mode "default"
# back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

#bluetooth #TODO
set $mode_bluetooth Bluetooth: (1) ON, (2) OFF, (3) Philips Headset, (4) Galaxy S3 neo
mode "$mode_bluetooth" {
#ON
    bindsym 1 exec echo -e 'power on\nquit' | bluetoothctl, mode "default"
#OFF
        bindsym 2 exec echo -e 'power off\nquit' | bluetoothctl, mode "default"
#phone (Philipps Headset)
        bindsym 3 exec echo -e 'connect 00:11:67:1F:8C:7F' | bluetoothctl, mode "default"
#phone (Galaxy S3 neo)
        bindsym 4 exec echo -e 'connect 30:C7:AE:8E:80:18' | bluetoothctl, mode "default"


# back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

#hdmi secound monitor #TODO
set $mode_display HDMI: (1) eDP1, (2) HDMI, (3) split
mode "$mode_display" {
#bindsym 1 exec xrandr --output HDMI2 --auto --off, mode "default"
    bindsym 1 exec ~/.config/screenlayout/monitor_only.sh, exec pactl set-card-profile 0 output:analog-stereo+input:analog-stereo , mode "default"
#bindsym 2 exec xrandr --output HDMI2 --auto --right-of eDP1, mode "default"
        bindsym 2 exec ~/.config/screenlayout/hdmi_only.sh, exec pactl set-card-profile 0 output:hdmi-stereo-extra1, mode "default"
#bindsym 3 exec xrandr --output eDP1 --auto --same-as HDMI2, mode "default"
        bindsym 3 exec ~/.config/screenlayout/split.sh, exec pactl set-card-profile 0 output:hdmi-stereo-extra1, mode "default"
# back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}


set $mode_wallpaper WALLPAPER: (1) color, (2) anime, (3) gaming, (4) detailed, (5) logo, (6) i3, (7) debian
mode "$mode_wallpaper" {
        bindsym 1 mode "$mode_wallpaper_color"
        bindsym 2 exec ~/.config/screenlayout/wallpaper.sh anime, mode "default"
        bindsym 3 exec ~/.config/screenlayout/wallpaper.sh gaming, mode "default"
        bindsym 4 exec ~/.config/screenlayout/wallpaper.sh detailed, mode "default"
        bindsym 5 exec ~/.config/screenlayout/wallpaper.sh logo, mode "default"
        bindsym 6 exec ~/.config/screenlayout/wallpaper.sh i3, mode "default"
        bindsym 7 exec ~/.config/screenlayout/wallpaper.sh debian, mode "default"

# back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

set $mode_wallpaper_color WALLPAPER: (1) dark, (2) light, (3) red, (4) blue, (5) pink, (6) green, (7) brown, (8) purple, (9) orange, (0) random
mode "$mode_wallpaper_color" {
        bindsym 1 exec ~/.config/screenlayout/wallpaper.sh dark, mode "default"
        bindsym 2 exec ~/.config/screenlayout/wallpaper.sh light, mode "default"
        bindsym 3 exec ~/.config/screenlayout/wallpaper.sh red, mode "default"
        bindsym 4 exec ~/.config/screenlayout/wallpaper.sh blue, mode "default"
        bindsym 5 exec ~/.config/screenlayout/wallpaper.sh pink, mode "default"
        bindsym 6 exec ~/.config/screenlayout/wallpaper.sh green, mode "default"
        bindsym 7 exec ~/.config/screenlayout/wallpaper.sh brown, mode "default"
        bindsym 8 exec ~/.config/screenlayout/wallpaper.sh purple, mode "default"
        bindsym 9 exec ~/.config/screenlayout/wallpaper.sh orange, mode "default"
        bindsym 0 exec ~/.config/screenlayout/wallpaper.sh random, mode "default"

# back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}






################################################################################
#graphical looks style
################################################################################

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)

#font
font pango:Cousine Regular 1
#font pango:DejaVu Sans Mono 1

for_window [class="^.*"] border pixel 1
new_window 1pixel

#font ~/.local/share/fonts/leet.ttf 10
#popups during fullscreen
popup_during_fullscreen smart

# Some color adjustments
client.focused_inactive #1c1c1c #1c1c1c #aaaaaa #333333 #1c1c1c
client.unfocused        #1c1c1c #1c1c1c #aaaaaa #333333 #1c1c1c
client.focused          #1c1c1c #880000 #FFFFFF #1c1c1c

### i3-gaps stuff ###

# Necessary for i3-gaps to work properly (pixel can be any value)
for_window [class="^.*"] border pixel 3

# Smart Gaps
smart_gaps on

# Smart Borders
smart_borders on


# Set inner/outer gaps
gaps inner 30
gaps outer -2

# Gaps mode
set $mode_gaps Gaps: (o) outer, (i) inner
set $mode_gaps_outer Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_inner Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
# bindsym $mod+Shift+g mode "$mode_gaps"
bindsym $mod+Shift+a gaps inner current set o
bindsym $mod+Shift+s gaps inner current set 30
bindsym $mod+a gaps inner current minus 5
bindsym $mod+s gaps inner current plus 5


mode "$mode_gaps" {
    bindsym o      mode "$mode_gaps_outer"
        bindsym i      mode "$mode_gaps_inner"
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

mode "$mode_gaps_inner" {
    bindsym plus  gaps inner current plus 5
        bindsym minus gaps inner current minus 5
        bindsym 0     gaps inner current set 0

        bindsym Shift+plus  gaps inner all plus 5
        bindsym Shift+minus gaps inner all minus 5
        bindsym Shift+0     gaps inner all set 0

        bindsym Return mode "default"
        bindsym Escape mode "default"
}

mode "$mode_gaps_outer" {
    bindsym plus  gaps outer current plus 5
        bindsym minus gaps outer current minus 5
        bindsym 0     gaps outer current set 0

        bindsym Shift+plus  gaps outer all plus 5
        bindsym Shift+minus gaps outer all minus 5
        bindsym Shift+0     gaps outer all set 0

        bindsym Return mode "default"
        bindsym Escape mode "default"
}

